{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../src/effect.ts", "../src/baseHandlers.ts", "../src/reactive.ts"],
  "sourcesContent": ["import { effect } from './effect'\nimport { reactive } from './reactive'\n\nexport { effect, reactive }\n", "export const isObject = (val: unknown): val is Record<any, any> =>\n  typeof val !== null && typeof val === 'object'\n\nexport const isFunction = (fn: unknown) => typeof fn === 'function'\n", "import { isFunction } from '@vue/shared'\n\nclass ReactiveEffect {\n  fn: () => void\n  constructor(fn: () => void) {\n    this.fn = fn\n  }\n  run() {\n    this.fn()\n  }\n}\n\n/**\n * \u526F\u4F5C\u7528\u51FD\u6570 \u6B64\u51FD\u6570\u4F9D\u8D56\u7684\u6570\u636E\u53D8\u5316\u4E86 \u4F1A\u91CD\u65B0\u6267\u884C\n * @param fn Function\n */\nexport function effect(fn: any) {\n  if (!isFunction) console.warn('effect \u4F20\u5165\u5FC5\u987B\u662F\u4E00\u4E2A\u51FD\u6570\uFF01')\n  const _effect = new ReactiveEffect(fn)\n  _effect.run()\n}\n\nconst targetMap = new WeakMap()\n/**\n * \u4F9D\u8D56\u6536\u96C6\n * @param target object \u6536\u96C6\u76EE\u6807\n * @param key unknown \u76EE\u6807\u5143\u7D20\n */\nexport function track(target: object, key: unknown) {\n  // target > key > dep\n  let depsMap = targetMap.get(target)\n  if (!depsMap) {\n    targetMap.set(target, (depsMap = new Map()))\n  }\n}\n", "export const mutableHandlers: ProxyHandler<object> = {\n  get(target, key, receiver) {\n    // \u6536\u96C6\u4F9D\u8D56\n    return Reflect.get(target, key, receiver)\n  },\n  set(target, key, value) {\n    // \u89E6\u53D1\u4F9D\u8D56\n    const result = Reflect.set(target, key, value)\n    return result\n  }\n}\n", "import { isObject } from '@vue/shared'\n\nimport { mutableHandlers } from './baseHandlers'\n\n/**\n * \u5C06\u5BF9\u8C61\u53D8\u4E3A\u54CD\u5E94\u5F0F proxy\n * @param target\n * @returns\n */\nexport function reactive(target: any) {\n  return createReactiveObject(target)\n}\n\nfunction createReactiveObject(target: any) {\n  if (!isObject) {\n    console.warn('\u54CD\u5E94\u5F0F\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF01')\n    return isObject\n  }\n  return new Proxy(target, mutableHandlers)\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,MAAM,WAAW,CAAC,QACvB,OAAO,QAAQ,QAAQ,OAAO,QAAQ;AAEjC,MAAM,aAAa,CAAC,OAAgB,OAAO,OAAO;;;ACDzD,MAAM,iBAAN,MAAqB;AAAA,IAEnB,YAAY,IAAgB;AAC1B,WAAK,KAAK;AAAA,IACZ;AAAA,IACA,MAAM;AACJ,WAAK,GAAG;AAAA,IACV;AAAA,EACF;AAMO,WAAS,OAAO,IAAS;AAC9B,QAAI,CAAC;AAAY,cAAQ,KAAK,qEAAmB;AACjD,UAAM,UAAU,IAAI,eAAe,EAAE;AACrC,YAAQ,IAAI;AAAA,EACd;;;ACpBO,MAAM,kBAAwC;AAAA,IACnD,IAAI,QAAQ,KAAK,UAAU;AAEzB,aAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ;AAAA,IAC1C;AAAA,IACA,IAAI,QAAQ,KAAK,OAAO;AAEtB,YAAM,SAAS,QAAQ,IAAI,QAAQ,KAAK,KAAK;AAC7C,aAAO;AAAA,IACT;AAAA,EACF;;;ACDO,WAAS,SAAS,QAAa;AACpC,WAAO,qBAAqB,MAAM;AAAA,EACpC;AAEA,WAAS,qBAAqB,QAAa;AACzC,QAAI,CAAC,UAAU;AACb,cAAQ,KAAK,gFAAe;AAC5B,aAAO;AAAA,IACT;AACA,WAAO,IAAI,MAAM,QAAQ,eAAe;AAAA,EAC1C;",
  "names": []
}
